{"paragraphs":[{"text":"%md\n# Basic Machine Learning using DBMS_PREDICTIVE_ANALYTICS\n\nOne of the capabilities available in the Oracle Database is the DBMS_PREDICTIVE_ANALYTICS PL/SQL Package.  Predictive analytics is a technology that captures data mining processes in simple routines.  Sometimes called \"one-click data mining,\" predictive analytics simplifies and automates the data mining process.\n\nPredictive analytics uses data mining technology, but knowledge of data mining is not needed to use predictive analytics. You can use predictive analytics simply by specifying an operation to perform on your data. You do not need to create or use explicit mining models or to deeply understand the mining functions and algorithms.\n\nThere are three Oracle Predictive Analytics Operations:\n\n- EXPLAIN: Explains how individual predictors (columns) affect the variation of values in a target column\n\n- PREDICT: For each case (row), predicts the values in a target column\n\n- PROFILE: Creates a set of rules for cases (rows) that imply the same target value\n\n\nDocumentation Links:\nhttps://docs.oracle.com/en/database/oracle/oracle-database/18/dmapi/introduction-to-oracle-data-mining.html\nhttps://docs.oracle.com/en/database/oracle/oracle-database/18/arpls/DBMS_PREDICTIVE_ANALYTICS.html\n\n\n\n","user":"DAVE","dateUpdated":"2018-03-27T23:15:16+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","optionOpen":false,"keys":[],"values":[],"scatter":{},"groups":[],"height":300},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245036285_971870650","id":"20180328-135036_1811365133","result":{"msg":"<h1>Basic Machine Learning using DBMS_PREDICTIVE_ANALYTICS</h1>\n<p>One of the capabilities available in the Oracle Database is the DBMS_PREDICTIVE_ANALYTICS PL/SQL Package.  Predictive analytics is a technology that captures data mining processes in simple routines.  Sometimes called &ldquo;one-click data mining,&rdquo; predictive analytics simplifies and automates the data mining process.</p>\n<p>Predictive analytics uses data mining technology, but knowledge of data mining is not needed to use predictive analytics. You can use predictive analytics simply by specifying an operation to perform on your data. You do not need to create or use explicit mining models or to deeply understand the mining functions and algorithms.</p>\n<p>There are three Oracle Predictive Analytics Operations:</p>\n<ul>\n<li><p>EXPLAIN: Explains how individual predictors (columns) affect the variation of values in a target column</p>\n</li>\n<li><p>PREDICT: For each case (row), predicts the values in a target column</p>\n</li>\n<li><p>PROFILE: Creates a set of rules for cases (rows) that imply the same target value</p>\n</li>\n</ul>\n<p>Documentation Links:\n<br  />https://docs.oracle.com/en/database/oracle/oracle-database/18/dmapi/introduction-to-oracle-data-mining.html\n<br  />https://docs.oracle.com/en/database/oracle/oracle-database/18/arpls/DBMS_PREDICTIVE_ANALYTICS.html</p>\n","code":"SUCCESS","type":"HTML"},"dateCreated":"2018-03-25T19:43:31+0000","dateStarted":"2018-03-27T23:15:11+0000","dateFinished":"2018-03-27T23:15:11+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:115"},{"text":"%md \n# EXPLAIN\n\nThe EXPLAIN procedure identifies the attributes that are important in explaining the variation in values of a target column.  The records in a specified data table/view are used by the procedure to train a model that calculates the attribute importance. \n\nThe EXPLAIN procedure creates a result table that lists the attributes in order of their explanatory power.  The results table column EXPLANATORY_VALUE indicates how useful the column is for determining the value of the explained column. Higher values indicate greater explanatory power. Value can range from 0 to 1.\n\nAn explanatory power value of 0 implies there is no useful correlation between the column's values and the explain column's values. An explanatory power of 1 implies perfect correlation; such columns should be eliminated from consideration for PREDICT. In practice, an explanatory power equal to 1 is rarely returned. \n\n\nLink:\nhttps://docs.oracle.com/en/database/oracle/oracle-database/18/arpls/DBMS_PREDICTIVE_ANALYTICS.html#GUID-5A5DEECD-6521-4D8D-BA0D-D49EE1194A3C\n","user":"DAVE","dateUpdated":"2018-03-25T21:05:30+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","optionOpen":false,"keys":[],"values":[],"scatter":{},"groups":[],"height":300},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245036285_930593403","id":"20180328-135036_965577611","result":{"msg":"<h1>EXPLAIN</h1>\n<p>The EXPLAIN procedure identifies the attributes that are important in explaining the variation in values of a target column.  The records in a specified data table/view are used by the procedure to train a model that calculates the attribute importance.</p>\n<p>The EXPLAIN procedure creates a result table that lists the attributes in order of their explanatory power.  The results table column EXPLANATORY_VALUE indicates how useful the column is for determining the value of the explained column. Higher values indicate greater explanatory power. Value can range from 0 to 1.</p>\n<p>An explanatory power value of 0 implies there is no useful correlation between the column's values and the explain column's values. An explanatory power of 1 implies perfect correlation; such columns should be eliminated from consideration for PREDICT. In practice, an explanatory power equal to 1 is rarely returned.</p>\n<p>Link:\n<br  />https://docs.oracle.com/en/database/oracle/oracle-database/18/arpls/DBMS_PREDICTIVE_ANALYTICS.html#GUID-5A5DEECD-6521-4D8D-BA0D-D49EE1194A3C</p>\n","code":"SUCCESS","type":"HTML"},"dateCreated":"2018-03-25T19:52:32+0000","dateStarted":"2018-03-25T21:05:26+0000","dateFinished":"2018-03-25T21:05:26+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:116"},{"text":"%md \n### Notes on running this notebook\n\n- Run each of the script and sql paragraphs individually to execute their code and see their output\n- If you get a \"paragraph_######'s Interpreter script not found\" message, then go to the top of the page and click on the Interpreter Binding icon (which looks like a gear).  Make sure at least one of your database services (High, Medium, or Low) is selected (i.e. it has a blue background) and click Save.  Then try to run the paragraph again.","dateUpdated":"2018-03-28T14:00:25+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245377069_1855059989","id":"20180328-135617_1206890101","dateCreated":"2018-03-28T13:56:17+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"focus":true,"$$hashKey":"object:1765","user":"OMLUSER1","dateFinished":"2018-03-28T14:00:22+0000","dateStarted":"2018-03-28T14:00:22+0000","result":{"code":"SUCCESS","type":"HTML","msg":"<h3>Notes on running this notebook</h3>\n<ul>\n<li>Run each of the script and sql paragraphs individually to execute their code and see their output</li>\n<li>If you get a &ldquo;paragraph_######'s Interpreter script not found&rdquo; message, then go to the top of the page and click on the Interpreter Binding icon (which looks like a gear).  Make sure at least one of your database services (High, Medium, or Low) is selected (i.e. it has a blue background) and click Save.  Then try to run the paragraph again.</li>\n</ul>\n"}},{"title":"Script to rank columns in order of influence of explaining the HOME_THEATER_PACKAGE column","text":"%script\n\n--use a view to select from the sample SH schema\nCREATE OR REPLACE VIEW ml_data_view\nAS\nSELECT * FROM SH.supplementary_demographics;\n\n--drop result table if necessary\nDROP TABLE demographics_explain_result;\n\n--Perform EXPLAIN operation \nBEGIN \n    DBMS_PREDICTIVE_ANALYTICS.EXPLAIN( \n        data_table_name      => 'ml_data_view', \n        explain_column_name  => 'home_theater_package', \n        result_table_name    => 'demographics_explain_result'); \nEND; \n/ \n--Display results \nSELECT * FROM demographics_explain_result;","user":"OMLUSER1","dateUpdated":"2018-03-28T13:52:55+0000","config":{"colWidth":12,"editorMode":"ace/mode/plsql","title":true,"graph":{"mode":"table","optionOpen":false,"keys":[],"values":[],"scatter":{},"groups":[],"height":300},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245036285_-733699284","id":"20180328-135036_745369318","dateCreated":"2018-03-25T19:44:09+0000","dateStarted":"2018-03-28T13:52:55+0000","dateFinished":"2018-03-28T13:53:01+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:117","errorMessage":"","focus":true},{"title":"Query to display columns influence/explanatory rank graphically","text":"%sql\nSELECT * FROM demographics_explain_result \nWHERE explanatory_value>0 \nORDER BY rank;","user":"OMLUSER1","dateUpdated":"2018-03-28T13:56:01+0000","config":{"colWidth":12,"editorMode":"ace/mode/osql","title":true,"graph":{"mode":"multiBarChart","optionOpen":false,"keys":[{"name":"ATTRIBUTE_NAME","index":0,"aggr":"sum"}],"values":[{"name":"EXPLANATORY_VALUE","index":2,"aggr":"sum"}],"scatter":{"yAxis":{"name":"ATTRIBUTE_SUBNAME","index":1,"aggr":"sum"},"xAxis":{"name":"ATTRIBUTE_NAME","index":0,"aggr":"sum"}},"groups":[],"height":300},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245036285_-978522517","id":"20180328-135036_578662008","dateCreated":"2018-03-25T19:48:50+0000","dateStarted":"2018-03-28T13:56:01+0000","dateFinished":"2018-03-28T13:56:01+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:118","errorMessage":"","focus":true},{"text":"%md\n### Assessing the output of the EXPLAIN\n\nThe above results show that the Y_BOX_GAMES, YRS_RESIDENCE, and HOUSEHOLD_SIZE columns are the best predictors of HOME_THEATER_PACKAGE column. ","user":"DAVE","dateUpdated":"2018-03-25T21:06:31+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","optionOpen":false,"keys":[],"values":[],"scatter":{},"groups":[],"height":300},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245036285_1828774716","id":"20180328-135036_1890644079","result":{"msg":"<h3>Assessing the output of the EXPLAIN</h3>\n<p>The above results show that the Y_BOX_GAMES, YRS_RESIDENCE, and HOUSEHOLD_SIZE columns are the best predictors of HOME_THEATER_PACKAGE column.</p>\n","code":"SUCCESS","type":"HTML"},"dateCreated":"2018-03-25T19:56:11+0000","dateStarted":"2018-03-25T21:06:29+0000","dateFinished":"2018-03-25T21:06:29+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:119"},{"text":"%md\n# PREDICT\n\nThe PREDICT procedure predicts the values of a target column.  It can work with categorical (classification problems) or numerical (regression problems) target columns.\n\nThe records of the data table are used by the procedure to train and test a model that makes the predictions. The PREDICT procedure creates a result table that contains a predicted target value for every record.\n\nThe procedure returns an output parameter (accuracy) that returns the predictive confidence, a measure of the accuracy of the predicted values. The predictive confidence for a categorical target is the most common target value; the predictive confidence for a numerical target is the mean.\n\nFor the results table,\nPREDICTION: The predicted value of the target column for the given case.\nPROBABILITY: For classification (categorical target), the probability of the prediction. For regression problems (numerical target), this column contains NULL. \n\nLinks:\nhttps://docs.oracle.com/en/database/oracle/oracle-database/18/arpls/DBMS_PREDICTIVE_ANALYTICS.html#GUID-2B5B965D-3F2E-48F4-8373-21C1B7BDCE97\n\n","user":"DAVE","dateUpdated":"2018-03-28T00:15:58+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","optionOpen":false,"keys":[],"values":[],"scatter":{},"groups":[],"height":300},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245036285_-638183217","id":"20180328-135036_624229409","result":{"msg":"<h1>PREDICT</h1>\n<p>The PREDICT procedure predicts the values of a target column.  It can work with categorical (classification problems) or numerical (regression problems) target columns.</p>\n<p>The records of the data table are used by the procedure to train and test a model that makes the predictions. The PREDICT procedure creates a result table that contains a predicted target value for every record.</p>\n<p>The procedure returns an output parameter (accuracy) that returns the predictive confidence, a measure of the accuracy of the predicted values. The predictive confidence for a categorical target is the most common target value; the predictive confidence for a numerical target is the mean.</p>\n<p>For the results table,\n<br  />PREDICTION: The predicted value of the target column for the given case.\n<br  />PROBABILITY: For classification (categorical target), the probability of the prediction. For regression problems (numerical target), this column contains NULL.</p>\n<p>Links:\n<br  />https://docs.oracle.com/en/database/oracle/oracle-database/18/arpls/DBMS_PREDICTIVE_ANALYTICS.html#GUID-2B5B965D-3F2E-48F4-8373-21C1B7BDCE97</p>\n","code":"SUCCESS","type":"HTML"},"dateCreated":"2018-03-25T19:49:23+0000","dateStarted":"2018-03-28T00:15:56+0000","dateFinished":"2018-03-28T00:15:56+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:120"},{"title":"Example to PREDICT whether each customer has an affinity card","text":"%script\n\n--we will split our data into a TRAIN and TEST dataset\n\n--use a TRAIN view and pick 60% of the rows\nCREATE OR REPLACE VIEW ml_data_view_train\nAS\nSELECT * FROM SH.supplementary_demographics SAMPLE(60) SEED (1);\n\n--use a TEST view with the leftover data\nCREATE OR REPLACE VIEW ml_data_view_test\nAS\nSELECT * FROM SH.supplementary_demographics MINUS SELECT * FROM ml_data_view_train;\n\n--create a master view with the target column null for the TEST data\nCREATE OR REPLACE VIEW ml_data_view AS\nselect a.cust_id,\na.EDUCATION ,\na.OCCUPATION ,\na.HOUSEHOLD_SIZE ,\na.YRS_RESIDENCE ,\na.BULK_PACK_DISKETTES ,\na.FLAT_PANEL_MONITOR ,\na.HOME_THEATER_PACKAGE ,\na.BOOKKEEPING_APPLICATION ,\na.PRINTER_SUPPLIES ,\na.Y_BOX_GAMES ,\na.OS_DOC_SET_KANJI ,\na.COMMENTS ,\na.AFFINITY_CARD\nFROM ml_data_view_train a\nUNION ALL\nselect a.cust_id,\na.EDUCATION ,\na.OCCUPATION ,\na.HOUSEHOLD_SIZE ,\na.YRS_RESIDENCE ,\na.BULK_PACK_DISKETTES ,\na.FLAT_PANEL_MONITOR ,\na.HOME_THEATER_PACKAGE ,\na.BOOKKEEPING_APPLICATION ,\na.PRINTER_SUPPLIES ,\na.Y_BOX_GAMES ,\na.OS_DOC_SET_KANJI ,\na.COMMENTS ,\nnull\nFROM ml_data_view_test a;\n\n\n--drop result table if necessary\nDROP TABLE demographics_predict_result;\n\n--Perform PREDICT operation \nDECLARE \n    v_accuracy NUMBER(10,9); \nBEGIN \n    DBMS_PREDICTIVE_ANALYTICS.PREDICT( \n        accuracy             => v_accuracy, \n        data_table_name      => 'ml_data_view', \n        case_id_column_name  => 'cust_id', \n        target_column_name   => 'affinity_card', \n        result_table_name    => 'demographics_predict_result'); \n    DBMS_OUTPUT.PUT_LINE('Accuracy = ' || v_accuracy); \nEND; \n/\n\n--Display first 10 predictions\nSELECT * FROM demographics_predict_result WHERE rownum < 10;","user":"OMLUSER1","dateUpdated":"2018-03-28T13:53:27+0000","config":{"colWidth":12,"editorMode":"ace/mode/plsql","title":true,"graph":{"mode":"table","optionOpen":false,"keys":[],"values":[],"scatter":{},"groups":[],"height":300},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245036285_-1451782780","id":"20180328-135036_1651096639","dateCreated":"2018-03-25T19:57:36+0000","dateStarted":"2018-03-28T13:53:27+0000","dateFinished":"2018-03-28T13:53:39+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:121","errorMessage":"","focus":true},{"title":"Query to compare test data actual to predicted values","text":"%sql \nselect t.cust_id, t.affinity_card actual_affinity_card, p.prediction predicted_affinity_card, p.probability, case when t.affinity_card=p.prediction then 'Correct' else 'Incorrect' end match\nFROM ml_data_view_test t, demographics_predict_result p\nWHERE t.cust_id =p.cust_id\nAND rownum<100;\n\n","user":"OMLUSER1","dateUpdated":"2018-03-28T13:54:31+0000","config":{"colWidth":12,"editorMode":"ace/mode/osql","title":true,"graph":{"mode":"table","optionOpen":false,"keys":[{"name":"CUST_ID","index":0,"aggr":"sum"}],"values":[],"scatter":{"xAxis":{"name":"CUST_ID","index":0,"aggr":"sum"}},"groups":[],"height":300},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245036285_606420599","id":"20180328-135036_757649508","dateCreated":"2018-03-25T20:05:15+0000","dateStarted":"2018-03-28T13:54:31+0000","dateFinished":"2018-03-28T13:54:31+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:122","errorMessage":"","focus":true},{"title":"Comparing the number of correct predictions versus incorrect predictions for our test data","text":"%sql\nselect 'results' results, sum(case when affinity_card=prediction then 1 else 0 end) num_correct,\n  sum(case when affinity_card!=prediction then 1 else 0 end) num_incorrect\nfrom (select t.cust_id, t.affinity_card, p.prediction, p.probability\nFROM ml_data_view_test t, demographics_predict_result p\nWHERE t.cust_id =p.cust_id) test_results\n\n","user":"OMLUSER1","dateUpdated":"2018-03-28T13:54:48+0000","config":{"colWidth":12,"editorMode":"ace/mode/osql","title":true,"graph":{"mode":"multiBarChart","optionOpen":false,"keys":[{"name":"RESULTS","index":0,"aggr":"sum"}],"values":[{"name":"NUM_CORRECT","index":1,"aggr":"sum"},{"name":"NUM_INCORRECT","index":2,"aggr":"sum"}],"scatter":{"yAxis":{"name":"NUM_CORRECT","index":1,"aggr":"sum"},"xAxis":{"name":"RESULTS","index":0,"aggr":"sum"}},"groups":[],"height":300},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245036285_-384367351","id":"20180328-135036_1525444134","dateCreated":"2018-03-25T20:19:27+0000","dateStarted":"2018-03-28T13:54:48+0000","dateFinished":"2018-03-28T13:54:49+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:123","errorMessage":"","focus":true},{"text":"%md\n### Assessing the output of the PREDICT example\n\nThe above results show that the PREDICT has correctly predicted that the customer has an affinity card more often than predicting incorrectly.\n","user":"DAVE","dateUpdated":"2018-03-25T21:12:35+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","optionOpen":false,"keys":[],"values":[],"scatter":{},"groups":[],"height":300},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245036285_-1813468999","id":"20180328-135036_1488671918","result":{"msg":"<h3>Assessing the output of the PREDICT example</h3>\n<p>The above results show that the PREDICT has correctly predicted that the customer has an affinity card more often than predicting incorrectly.</p>\n","code":"SUCCESS","type":"HTML"},"dateCreated":"2018-03-25T20:30:38+0000","dateStarted":"2018-03-25T21:12:29+0000","dateFinished":"2018-03-25T21:12:29+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:124"},{"text":"%md \n# Extra Credit: PROFILE\n\nThe final DBMS_PREDICTIVE_ANALYTICS operation is PROFILE.  This is listed as extra credit, because it will take some additonal effort to interpret the results as the results are provided in XML format.  You should consult the PROFILE documentation to help you understand it.\n","user":"DAVE","dateUpdated":"2018-03-25T21:13:03+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","optionOpen":false,"keys":[],"values":[],"scatter":{},"groups":[],"height":300},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245036285_1401583163","id":"20180328-135036_1998361538","result":{"msg":"<h1>Extra Credit: PROFILE</h1>\n<p>The final DBMS_PREDICTIVE_ANALYTICS operation is PROFILE.  This is listed as extra credit, because it will take some additonal effort to interpret the results as the results are provided in XML format.  You should consult the PROFILE documentation to help you understand it.</p>\n","code":"SUCCESS","type":"HTML"},"dateCreated":"2018-03-25T20:43:48+0000","dateStarted":"2018-03-25T21:12:45+0000","dateFinished":"2018-03-25T21:12:45+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:125"},{"text":"%md\n# PROFILE \n\nThe PROFILE procedure generates a list of rules that describe the cases (records) from the input data.\n\nFor example, if a target column CHURN has values 'Yes' and 'No', PROFILE generates a set of rules describing the expected outcomes.  \n\nThe PROFILE procedure creates a result table that specifies rules (profiles) and their corresponding target values.  Each profile includes a rule, record count, and a score distribution.  The rules are expressed in XML syntax, so you likely will use SQL/XML functions like extract() and extractvalue() to work with the results.\n\n\nLinks:\nhttps://docs.oracle.com/en/database/oracle/oracle-database/18/arpls/DBMS_PREDICTIVE_ANALYTICS.html#GUID-D6636F50-FACA-4658-ADE0-7EAF3725E0BE\n","user":"DAVE","dateUpdated":"2018-03-25T21:15:12+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","optionOpen":false,"keys":[],"values":[],"scatter":{},"groups":[],"height":300},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245036285_-1082691693","id":"20180328-135036_484230837","result":{"msg":"<h1>PROFILE</h1>\n<p>The PROFILE procedure generates a list of rules that describe the cases (records) from the input data.</p>\n<p>For example, if a target column CHURN has values 'Yes' and 'No', PROFILE generates a set of rules describing the expected outcomes.</p>\n<p>The PROFILE procedure creates a result table that specifies rules (profiles) and their corresponding target values.  Each profile includes a rule, record count, and a score distribution.  The rules are expressed in XML syntax, so you likely will use SQL/XML functions like extract() and extractvalue() to work with the results.</p>\n<p>Links:\n<br  />https://docs.oracle.com/en/database/oracle/oracle-database/18/arpls/DBMS_PREDICTIVE_ANALYTICS.html#GUID-D6636F50-FACA-4658-ADE0-7EAF3725E0BE</p>\n","code":"SUCCESS","type":"HTML"},"dateCreated":"2018-03-25T20:28:33+0000","dateStarted":"2018-03-25T21:15:11+0000","dateFinished":"2018-03-25T21:15:11+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:126"},{"title":"Example to identify PROFILE rules for affinity_card based on the household_size and yrs_residence columns","text":"%script\n\n\n--use a view to select from the sample SH schema\n--Note: we are limiting ourselves to 2 columns (HOUSEHOLD_SIZE and YRS_RESIDENCE) to make interpreting the output easier\nCREATE OR REPLACE VIEW ml_data_view\nAS\nSELECT \n--a.OCCUPATION ,\na.HOUSEHOLD_SIZE ,\na.YRS_RESIDENCE  ,\n--a.EDUCATION ,\n/* a.BULK_PACK_DISKETTES ,\na.FLAT_PANEL_MONITOR ,\na.HOME_THEATER_PACKAGE ,\na.BOOKKEEPING_APPLICATION ,\na.PRINTER_SUPPLIES ,\na.Y_BOX_GAMES ,\na.OS_DOC_SET_KANJI , */\na.AFFINITY_CARD\nFROM SH.supplementary_demographics a;\n\n--drop result table if necessary\nDROP TABLE demographics_profile_result;\n\nBEGIN\n    DBMS_PREDICTIVE_ANALYTICS.PROFILE(\n         DATA_TABLE_NAME    => 'ml_data_view',\n         TARGET_COLUMN_NAME => 'affinity_card',\n         RESULT_TABLE_NAME  => 'demographics_profile_result');\nEND;\n/\n--Display results \nSELECT a.profile_id, extractvalue(a.description, '/SimpleRule/@score') target_value, a.record_count, extract(a.description, '/SimpleRule/CompoundPredicate').getstringval() rules\n--, a.description.getstringval()\nFROM demographics_profile_result a;\n","user":"OMLUSER1","dateUpdated":"2018-03-28T13:54:55+0000","config":{"colWidth":12,"editorMode":"ace/mode/plsql","editorHide":false,"title":true,"graph":{"mode":"table","optionOpen":false,"keys":[],"values":[],"scatter":{},"groups":[],"height":300},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245036285_-1069055092","id":"20180328-135036_637011542","dateCreated":"2018-03-25T20:35:17+0000","dateStarted":"2018-03-28T13:54:55+0000","dateFinished":"2018-03-28T13:55:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:127","errorMessage":"","focus":true},{"text":"%md\n### Assessing the output of the PROFILE operation\n\nIn the example above, we are identifying profile rules for the HOUSEHOLD_SIZE and YRS_RESIDENCE columns that can predict the AFFINITY_CARD column.\n\nHere is a snippet of sample output (your output might vary):\n\n\n    PROFILE_ID   TARGET_VALUE   RECORD_COUNT   RULES                                                                                                                                                                                                                                                                                                                     \n           1             0             483     <CompoundPredicate booleanOperator=\"and\"><SimpleSetPredicate field=\"HOUSEHOLD_SIZE\" booleanOperator=\"isIn\"><Array type=\"string\">&quot;3&quot; &quot;4-5&quot; </Array></SimpleSetPredicate><SimplePredicate field=\"YRS_RESIDENCE\" operator=\"lessOrEqual\" value=\"3.5\"/></CompoundPredicate>                                \n           2             1            1523     <CompoundPredicate booleanOperator=\"and\"><SimpleSetPredicate field=\"HOUSEHOLD_SIZE\" booleanOperator=\"isIn\"><Array type=\"string\">&quot;3&quot; &quot;4-5&quot; </Array></SimpleSetPredicate><SimplePredicate field=\"YRS_RESIDENCE\" operator=\"greaterThan\" value=\"3.5\"/></CompoundPredicate>                                \n           \n\nWhat the above sample output tells us is that the first rule (with PROFILE_ID=1) is saying that it predicts that the AFFINITY_CARD column will be 0 when HOUSEHOLD_SIZE is in ('3','4-5') and YRS_RESIDENCE is <= 3.5.\n\n","user":"DAVE","dateUpdated":"2018-03-28T00:13:42+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","optionOpen":false,"keys":[],"values":[],"scatter":{},"groups":[],"height":300},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245036285_-1507355094","id":"20180328-135036_660875363","result":{"msg":"<h3>Assessing the output of the PROFILE operation</h3>\n<p>In the example above, we are identifying profile rules for the HOUSEHOLD_SIZE and YRS_RESIDENCE columns that can predict the AFFINITY_CARD column.</p>\n<p>Here is a snippet of sample output (your output might vary):</p>\n<pre><code>PROFILE_ID   TARGET_VALUE   RECORD_COUNT   RULES                                                                                                                                                                                                                                                                                                                     \n       1             0             483     &lt;CompoundPredicate booleanOperator=\"and\"&gt;&lt;SimpleSetPredicate field=\"HOUSEHOLD_SIZE\" booleanOperator=\"isIn\"&gt;&lt;Array type=\"string\"&gt;&amp;quot;3&amp;quot; &amp;quot;4-5&amp;quot; &lt;/Array&gt;&lt;/SimpleSetPredicate&gt;&lt;SimplePredicate field=\"YRS_RESIDENCE\" operator=\"lessOrEqual\" value=\"3.5\"/&gt;&lt;/CompoundPredicate&gt;                                \n       2             1            1523     &lt;CompoundPredicate booleanOperator=\"and\"&gt;&lt;SimpleSetPredicate field=\"HOUSEHOLD_SIZE\" booleanOperator=\"isIn\"&gt;&lt;Array type=\"string\"&gt;&amp;quot;3&amp;quot; &amp;quot;4-5&amp;quot; &lt;/Array&gt;&lt;/SimpleSetPredicate&gt;&lt;SimplePredicate field=\"YRS_RESIDENCE\" operator=\"greaterThan\" value=\"3.5\"/&gt;&lt;/CompoundPredicate&gt;                                \n</code></pre>\n<p>What the above sample output tells us is that the first rule (with PROFILE_ID=1) is saying that it predicts that the AFFINITY_CARD column will be 0 when HOUSEHOLD_SIZE is in ('3','4-5') and YRS_RESIDENCE is &lt;= 3.5.</p>\n","code":"SUCCESS","type":"HTML"},"dateCreated":"2018-03-25T20:53:14+0000","dateStarted":"2018-03-28T00:13:40+0000","dateFinished":"2018-03-28T00:13:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:128"},{"text":"%md\n# Next Steps\n\n- Experiment with DBMS_PREDICTIVE_ANALYTICS with your data\n- Review the Oracle Database Data Mining documentation: https://docs.oracle.com/en/database/oracle/oracle-database/18/dmapi/introduction-to-oracle-data-mining.html\n- Look at the DBMS_DATA_MINING sample notebooes in the Oracle ML Notebook Gallery","user":"DAVE","dateUpdated":"2018-03-25T21:18:15+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","optionOpen":false,"keys":[],"values":[],"scatter":{},"groups":[],"height":300},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245036285_912498217","id":"20180328-135036_880094670","result":{"msg":"<h1>Next Steps</h1>\n<ul>\n<li>Experiment with DBMS_PREDICTIVE_ANALYTICS with your data</li>\n<li>Review the Oracle Database Data Mining documentation: https://docs.oracle.com/en/database/oracle/oracle-database/18/dmapi/introduction-to-oracle-data-mining.html</li>\n<li>Look at the DBMS_DATA_MINING sample notebooes in the Oracle ML Notebook Gallery</li>\n</ul>\n","code":"SUCCESS","type":"HTML"},"dateCreated":"2018-03-25T20:34:45+0000","dateStarted":"2018-03-25T21:18:13+0000","dateFinished":"2018-03-25T21:18:13+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:129"},{"text":"%md ","user":"DAVE","dateUpdated":"2018-03-25T21:17:58+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","graph":{"mode":"table","optionOpen":false,"keys":[],"values":[],"scatter":{},"groups":[],"height":300},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1522245036285_-379027939","id":"20180328-135036_1315355803","dateCreated":"2018-03-25T21:17:58+0000","status":"READY","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:130"}],"name":"Basic Machine Learning","id":"8112","angularObjects":{"ORA14FCA45729:shared_process":[],"MDW381939C745:shared_process":[],"ORA73DE11F61C:shared_process":[],"ORAC81062736A:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}